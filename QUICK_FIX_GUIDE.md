# ğŸš€ å¿«é€Ÿä¿®å¤æŒ‡å— - æ— éœ€åˆ é™¤ä»“åº“

## âš ï¸ **é‡è¦æé†’**
**ä¸éœ€è¦åˆ é™¤ä»“åº“ï¼** æˆ‘ä»¬å¯ä»¥é€šè¿‡ç®€å•çš„æ­¥éª¤è§£å†³æ‰€æœ‰é—®é¢˜ï¼Œä¿ç•™æ‚¨çš„å·¥ä½œå†å²ã€‚

---

## ğŸ¯ **æ¨èæ–¹æ¡ˆï¼šå¿«é€Ÿä¿®å¤ (5åˆ†é’Ÿ)**

### **ç¬¬ä¸€æ­¥ï¼šè§£å†³GHCRæƒé™é—®é¢˜**

#### **æ–¹æ¡ˆAï¼šåˆ é™¤ç°æœ‰åŒ… (æœ€ç®€å•)**
1. æ‰“å¼€æµè§ˆå™¨ï¼Œè¿›å…¥ GitHub
2. ç‚¹å‡»å³ä¸Šè§’å¤´åƒ â†’ **Your profile**
3. ç‚¹å‡» **Packages** æ ‡ç­¾
4. æ‰¾åˆ° `smart-forward` åŒ… (å¦‚æœå­˜åœ¨)
5. ç‚¹å‡»åŒ…å â†’ **Package settings**
6. æ»šåŠ¨åˆ°åº•éƒ¨ â†’ **Delete package**
7. è¾“å…¥åŒ…åç¡®è®¤åˆ é™¤

#### **æ–¹æ¡ˆBï¼šé…ç½®åŒ…æƒé™ (å¦‚æœåŒ…å·²å­˜åœ¨)**
1. è¿›å…¥åŒ…è®¾ç½®é¡µé¢ (åŒä¸Š)
2. æ‰¾åˆ° **Manage Actions access** éƒ¨åˆ†
3. ç‚¹å‡» **Add Repository**
4. è¾“å…¥ï¼š`cls3389/smart-forward`
5. é€‰æ‹©æƒé™ï¼š**Write**
6. ç‚¹å‡» **Add**

### **ç¬¬äºŒæ­¥ï¼šæ£€æŸ¥ä»“åº“æƒé™**
1. è¿›å…¥ä»“åº“é¡µé¢ â†’ **Settings**
2. å·¦ä¾§èœå• â†’ **Actions** â†’ **General**
3. æ‰¾åˆ° **Workflow permissions** éƒ¨åˆ†
4. é€‰æ‹©ï¼šâœ… **Read and write permissions**
5. å‹¾é€‰ï¼šâœ… **Allow GitHub Actions to create and approve pull requests**
6. ç‚¹å‡» **Save**

### **ç¬¬ä¸‰æ­¥ï¼šè§¦å‘æ–°æ„å»º**
```bash
# åˆ›å»ºæ–°æ ‡ç­¾ (ä¼šè§¦å‘å®Œæ•´çš„Releaseæ„å»º)
git tag v1.0.2
git push --tags
```

### **ç¬¬å››æ­¥ï¼šéªŒè¯ç»“æœ**
1. è¿›å…¥ä»“åº“ â†’ **Actions** æ ‡ç­¾
2. è§‚å¯Ÿ "ğŸš€ å…¨å¹³å°å‘å¸ƒ" å·¥ä½œæµ
3. ç­‰å¾…æ„å»ºå®Œæˆ (çº¦20-25åˆ†é’Ÿ)
4. æ£€æŸ¥ **Releases** é¡µé¢æ˜¯å¦æœ‰æ–°ç‰ˆæœ¬
5. æ£€æŸ¥ **Packages** é¡µé¢æ˜¯å¦æœ‰Dockeré•œåƒ

---

## ğŸ”§ **å¤‡ç”¨æ–¹æ¡ˆï¼šä½¿ç”¨ä¸ªäººä»¤ç‰Œ (å¦‚æœä¸Šè¿°æ–¹æ¡ˆä¸è¡Œ)**

### **åˆ›å»ºä¸ªäººè®¿é—®ä»¤ç‰Œ**
1. GitHub â†’ å³ä¸Šè§’å¤´åƒ â†’ **Settings**
2. å·¦ä¾§èœå• â†’ **Developer settings**
3. **Personal access tokens** â†’ **Tokens (classic)**
4. **Generate new token (classic)**
5. è®¾ç½®æƒé™ï¼š
   - âœ… `repo` (Full control of private repositories)
   - âœ… `write:packages` (Write packages to GitHub Package Registry)
   - âœ… `read:packages` (Read packages from GitHub Package Registry)
6. ç‚¹å‡» **Generate token**
7. **å¤åˆ¶ä»¤ç‰Œ** (åªæ˜¾ç¤ºä¸€æ¬¡ï¼)

### **æ·»åŠ åˆ°ä»“åº“Secrets**
1. å›åˆ°ä»“åº“é¡µé¢ â†’ **Settings**
2. å·¦ä¾§èœå• â†’ **Secrets and variables** â†’ **Actions**
3. **New repository secret**
4. Name: `GHCR_TOKEN`
5. Value: ç²˜è´´åˆšæ‰å¤åˆ¶çš„ä»¤ç‰Œ
6. **Add secret**

### **ä¿®æ”¹å·¥ä½œæµ (å¦‚æœéœ€è¦)**
å¦‚æœä½¿ç”¨ä¸ªäººä»¤ç‰Œï¼Œéœ€è¦ä¿®æ”¹ `.github/workflows/release.yml`ï¼š
```yaml
# æ‰¾åˆ°è¿™è¡Œ
password: ${{ secrets.GITHUB_TOKEN }}
# æ”¹ä¸º
password: ${{ secrets.GHCR_TOKEN }}
```

---

## ğŸš¨ **å¦‚æœçœŸçš„æƒ³é‡æ–°å¼€å§‹ (ä¸æ¨è)**

### **ä¿å­˜å½“å‰å·¥ä½œçš„æ–¹æ³•**
```bash
# 1. å¤‡ä»½å½“å‰ä»£ç 
git clone https://github.com/cls3389/smart-forward.git smart-forward-backup
cd smart-forward-backup
git log --oneline  # æŸ¥çœ‹æäº¤å†å²

# 2. åˆ›å»ºå®Œæ•´å¤‡ä»½
zip -r smart-forward-backup-$(date +%Y%m%d).zip smart-forward-backup/
```

### **é‡æ–°åˆ›å»ºä»“åº“çš„æ­¥éª¤ (å¦‚æœåšæŒ)**
1. **GitHubç½‘é¡µæ“ä½œ**ï¼š
   - è¿›å…¥ä»“åº“ â†’ Settings â†’ æ»šåŠ¨åˆ°åº•éƒ¨ â†’ Delete this repository
   - è¾“å…¥ä»“åº“åç¡®è®¤åˆ é™¤

2. **é‡æ–°åˆ›å»º**ï¼š
   - GitHub â†’ New repository â†’ ä»“åº“åï¼š`smart-forward`
   - è®¾ç½®ä¸º Public
   - ä¸è¦åˆå§‹åŒ– (ä¸è¦å‹¾é€‰ README, .gitignore, license)

3. **æ¨é€ç°æœ‰ä»£ç **ï¼š
   ```bash
   cd smart-forward-backup
   git remote set-url origin https://github.com/cls3389/smart-forward.git
   git push -u origin main --force
   git push --tags --force
   ```

---

## ğŸ¯ **å¼ºçƒˆæ¨èï¼šä½¿ç”¨å¿«é€Ÿä¿®å¤æ–¹æ¡ˆ**

### **ä¸ºä»€ä¹ˆä¸å»ºè®®åˆ é™¤ä»“åº“ï¼Ÿ**
- âŒ **ä¸¢å¤±æäº¤å†å²** - æ‰€æœ‰å¼€å‘å†å²æ¶ˆå¤±
- âŒ **ä¸¢å¤±Issueså’ŒPR** - å¦‚æœæœ‰çš„è¯
- âŒ **ä¸¢å¤±Starså’ŒForks** - å¦‚æœæœ‰äººå…³æ³¨
- âŒ **é‡æ–°é…ç½®å¤æ‚** - éœ€è¦é‡æ–°è®¾ç½®æ‰€æœ‰æƒé™
- âŒ **ä¸å¿…è¦çš„é£é™©** - å½“å‰é—®é¢˜å¯ä»¥ç®€å•è§£å†³

### **å¿«é€Ÿä¿®å¤çš„ä¼˜åŠ¿**
- âœ… **ä¿ç•™æ‰€æœ‰å†å²** - å®Œæ•´çš„å¼€å‘è®°å½•
- âœ… **5åˆ†é’Ÿè§£å†³** - åˆ é™¤åŒ… + é‡æ–°æ„å»º
- âœ… **é›¶é£é™©** - ä¸ä¼šä¸¢å¤±ä»»ä½•ä»£ç 
- âœ… **ç®€å•æœ‰æ•ˆ** - åªéœ€è¦å‡ ä¸ªç‚¹å‡»

---

## ğŸ“‹ **æ“ä½œæ£€æŸ¥æ¸…å•**

### **ä¿®å¤å‰æ£€æŸ¥**
- [ ] å·²å¤‡ä»½é‡è¦ä»£ç  (å¯é€‰)
- [ ] äº†è§£GitHubç•Œé¢æ“ä½œ
- [ ] å‡†å¤‡ç­‰å¾…20-25åˆ†é’Ÿæ„å»ºæ—¶é—´

### **æ‰§è¡Œæ­¥éª¤**
- [ ] åˆ é™¤ç°æœ‰åŒ… (æˆ–é…ç½®æƒé™)
- [ ] æ£€æŸ¥ä»“åº“Actionsæƒé™
- [ ] åˆ›å»ºæ–°æ ‡ç­¾ `v1.0.2`
- [ ] æ¨é€æ ‡ç­¾è§¦å‘æ„å»º
- [ ] è§‚å¯ŸActionsè¿è¡ŒçŠ¶æ€

### **éªŒè¯ç»“æœ**
- [ ] Actionsæ„å»ºæˆåŠŸ âœ…
- [ ] Releasesé¡µé¢æœ‰æ–°ç‰ˆæœ¬
- [ ] Packagesé¡µé¢æœ‰Dockeré•œåƒ
- [ ] å¯ä»¥æ‹‰å–é•œåƒï¼š`docker pull ghcr.io/cls3389/smart-forward:latest`

---

## ğŸ†˜ **éœ€è¦å¸®åŠ©ï¼Ÿ**

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. **è¿è¡Œè¯Šæ–­è„šæœ¬**ï¼š`powershell scripts/fix-ghcr-permissions.ps1`
2. **æŸ¥çœ‹è¯¦ç»†æŒ‡å—**ï¼š`docs/github-permissions-guide.md`
3. **æ£€æŸ¥Actionsæ—¥å¿—**ï¼šGitHub â†’ Actions â†’ ç‚¹å‡»å¤±è´¥çš„å·¥ä½œæµ

**è®°ä½ï¼š99%çš„æƒ…å†µä¸‹ï¼Œå¿«é€Ÿä¿®å¤æ–¹æ¡ˆå°±èƒ½è§£å†³é—®é¢˜ï¼** ğŸš€
